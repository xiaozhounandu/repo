<html>
<meta charset="UTF-8">
<button id="autoUploadBtn">自动上传并解析</button>
<div id="result"></div>

<script>
    document.getElementById('autoUploadBtn').addEventListener('click', async () => {
        const resultDiv = document.getElementById('result');
        try {
            const response = await fetch('http://localhost:8080/api/download-and-upload');
            const data = await response.json(); // 确保后端返回的是 JSON
            resultDiv.textContent = JSON.stringify(data, null, 2);
        } catch (err) {
            resultDiv.textContent = "失败: " + err.message;
        }
    });
</script>
</html>

